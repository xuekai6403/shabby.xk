I"¬3<p><img src="http://starry99.github.io/catbook/img/android_apps.jpg" alt="" /></p>

<blockquote>
  <p>ListViewæ˜¯å®‰å“æœ€ç»å…¸çš„æ§ä»¶ä¹‹ä¸€ï¼Œç›¸å½“äºIOSçš„UITableViewï¼Œä½¿ç”¨ç‡éå¸¸ä¹‹é«˜ã€‚è™½ç„¶ç°åœ¨å…¶æ±Ÿå±±åœ°ä½ä¸ç¨³ï¼Œå°†è¦è¢«recyclerviewå–ä»£ï¼Œä½†è®¾è®¡ç†å¿µæ˜¯å¾ˆç»å…¸çš„ã€‚</p>
</blockquote>

<p><strong>ListViewä¸»è¦ä¸‰ä¸ªè¦ç´ </strong></p>

<ul>
  <li>ListViewæ§ä»¶</li>
  <li>é€‚é…å™¨ç±»ï¼Œç”¨åˆ°äº†è®¾è®¡æ¨¡å¼ä¸­çš„é€‚é…å™¨æ¨¡å¼ï¼Œå®ƒæ˜¯è§†å›¾å’Œæ•°æ®ä¹‹é—´çš„æ¡¥æ¢ï¼Œè´Ÿè´£æä¾›å¯¹æ•°æ®çš„è®¿é—®ï¼Œç”Ÿæˆæ¯ä¸€ä¸ªåˆ—è¡¨é¡¹å¯¹äºçš„Viewã€‚å¸¸ç”¨çš„é€‚é…å™¨ç±»æœ‰ï¼šArrayAdapterï¼ŒSimpleAdapterå’ŒSimpleCursorAdapterã€‚</li>
  <li>æ•°æ®æºï¼Œå½“ç„¶æœ€é‡è¦æœ€å¤æ‚çš„éƒ¨åˆ†å°±æ˜¯é€‚é…å™¨ç±»çš„ç¼–å†™å’Œè®¾è®¡ï¼Œåœ¨ä¸€äº›å¤æ‚çš„ç•Œé¢ï¼Œå¸¸å¸¸éœ€è¦å¯¹é€‚é…å™¨ç±»è¿›è¡Œç›¸å…³é€»è¾‘å¤„ç†ã€‚</li>
</ul>

<h3 id="1arrayadapteré€‚é…å™¨">1.ArrayAdapteré€‚é…å™¨</h3>

<p>å¸ƒå±€æ–‡ä»¶ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"&gt;
    &lt;ListView
        android:id="@+id/lv"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:divider="@android:color/holo_red_dark"
        android:dividerHeight="3dp"
        android:scrollbars="none"/&gt;
&lt;/RelativeLayout&gt;
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public class MainActivity extends Activity {
    private ListView listView;
    private String datas[]={ "Sunday", "Monday", "Tuesday", "Wednesday",
            "Thursday", "Friday", "Saturday" };//å‡†å¤‡æ•°æ®æº
    ArrayAdapter&lt;String&gt; adapter;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);//éšè—æ ‡é¢˜æ 
        setContentView(R.layout.activity_main);
        listView=(ListView)findViewById(R.id.lv);
        //å®ä¾‹åŒ–ArrayAdapter
        adapter=new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1,datas);
        listView.setAdapter(adapter);//è®¾ç½®é€‚é…å™¨
    }
}
è¿™é‡Œå®ä¾‹åŒ–ArrayAdapterå¯¹è±¡ä¼ å…¥äº†ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­é¡¹å¸ƒå±€ï¼Œè¿™é‡Œè°ƒç”¨äº†ç³»ç»Ÿå†…å®¹çš„å¸ƒå±€ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ•°æ®é›†ï¼Œè¿™é‡Œä¼ å…¥çš„æ˜¯å­—ç¬¦ä¸²æ•°ç»„ã€‚æœ€åè°ƒç”¨setAdapteræ–¹æ³•è®¾ç½®é€‚é…å™¨ã€‚ 
</code></pre></div></div>

<h3 id="2simpleadapter">2.SimpleAdapter</h3>

<p>ArrayAdapterä»…ä»…é€‚ç”¨äºæ˜¾ç¤ºä¿¡æ¯æ¯”è¾ƒå•ä¸€çš„åœºæ™¯ï¼Œè‹¥æ˜¾ç¤ºä¿¡æ¯åŒ…å«å¤šç§å½¢å¼çš„æ•°æ®ï¼Œå°±ä¸å¤ªé€‚ç”¨äº†ï¼Œå°±è¦è€ƒè™‘ç”¨SimpleAdapter,å½“å­˜åœ¨å¤šç§æ•°æ®ç»“æ„çš„æ—¶å€™é¦–å…ˆè¦è€ƒè™‘å¸ƒå±€é—®é¢˜ã€‚å› æ­¤é¦–å…ˆè¦è®¾ç½®å­é¡¹ç›®å¸ƒå±€æ–‡ä»¶ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:orientation="horizontal"
    android:layout_height="match_parent"&gt;
    &lt;ImageView
        android:id="@+id/img"
        android:src="@mipmap/ic_launcher"
        android:layout_width="50dp"
        android:layout_height="50dp" /&gt;
    &lt;TextView
        android:id="@+id/tv"
        android:text="hello"
        android:gravity="center"
        android:layout_marginLeft="50dp"
        android:textSize="28sp"
        android:layout_width="wrap_content"
        android:layout_height="50dp" /&gt;
&lt;/LinearLayout&gt;
</code></pre></div></div>

<p>ä»¥ä¸Šæ ·å¼åŒ…æ‹¬ä¸¤ç§æ§ä»¶ï¼ŒImgeViewå’ŒTextViewï¼ŒImageViewè´Ÿè´£å›¾ç‰‡çš„æ˜¾ç¤ºï¼ŒTextViewå¯¹å›¾ç‰‡ä¿¡æ¯è¿›è¡Œè¯´æ˜ï¼Œé‡‡ç”¨çº¿æ€§å¸ƒå±€çš„æ°´å¹³å¸ƒå±€æ¨¡å¼ã€‚ ä¸»å¸ƒå±€æ–‡ä»¶å¦‚ä¸‹ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"&gt;
    &lt;ListView
        android:id="@+id/listview"
        android:layout_width="match_parent"
        android:layout_height="match_parent" /&gt;
&lt;/RelativeLayout&gt;
</code></pre></div></div>

<p>ä¸»å¸ƒå±€æ–‡ä»¶ä¸­ä»…é…ç½®äº†ä¸€ä¸ªListViewæ§ä»¶ï¼Œè®¾ç½®å…¶å®½é«˜éƒ½æ˜¯å æ®æ•´ä¸ªå¸ƒå±€ï¼ˆmatch_parentï¼‰ã€‚ MainActivity.java:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public class MainActivity extends Activity {
    private ListView listView;
    private SimpleAdapter simpleAdapter;
    private List&lt;Map&lt;String, Object&gt;&gt; datas=new ArrayList&lt;Map&lt;String, Object&gt;&gt;();
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        listView=(ListView)findViewById(R.id.listview);
        initDatas();//åˆå§‹åŒ–æ•°æ®é›†
//å®ä¾‹åŒ–SimpleAdapter
        simpleAdapter=new SimpleAdapter(this,datas,R.layout.animal_layout,new String[]{"img","name"},new int[]{R.id.img,R.id.tv});        listView.setAdapter(simpleAdapter);//è®¾ç½®é…ç½®å™¨
    }
    private void initDatas() {
        Map map1=new HashMap();
        map1.put("img",R.drawable.fish);
        map1.put("name","å°é‡‘é±¼");
        Map map2=new HashMap();
        map2.put("img",R.drawable.horse);
        map2.put("name","åƒé‡Œé©¬");
        Map map3=new HashMap();
        map3.put("img",R.drawable.mouse);
        map3.put("name","ç±³è€é¼ ");
        datas.add(map1);
        datas.add(map2);
        datas.add(map3);
    }
}
</code></pre></div></div>

<p>SimpleAdapterçš„æ„é€ å‡½æ•°å¦‚ä¸‹ï¼š SimpleAdapter(Context context, List&lt;? extends Map&lt;String, ?Â» data, int resource, String[] from, int[] to) å®ä¾‹åŒ–SimpleAdapteræ—¶è¦ä¼ å…¥å‡ ä¸ªå‚æ•°ï¼š</p>
<ul>
  <li>contextï¼šå³ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè¿™é‡Œä¼ å…¥thisï¼›</li>
  <li>data:æ˜¯ä¸€ä¸ªåŒ…è£¹Mapé›†åˆçš„Listæ•°æ®é›†ï¼Œè¿™é‡Œä¼ å…¥datasï¼Œç¨‹åºåˆå§‹åŒ–çš„æ•°æ®é›†ï¼›</li>
  <li>resourceï¼šå­é¡¹å¸ƒå±€æ–‡ä»¶ï¼Œè¿™é‡Œæ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„animal_layout.xmlæ–‡ä»¶ï¼Œä¼ å…¥R.layout.animal_layoutï¼›</li>
  <li>from:æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå­—ç¬¦ä¸²æŒ‡çš„æ˜¯Mapä¸­çš„é”®å€¼ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªé”®ï¼Œå³â€œimgâ€å’Œâ€œnameâ€ï¼›</li>
  <li>to:æ˜¯ä¸€ä¸ªintå‹æ•°ç»„ï¼Œè¡¨ç¤ºå­é¡¹å¸ƒå±€ä¸­å¯¹åº”æ§ä»¶çš„idï¼Œè¿™é‡Œä¼ å…¥ImageViewçš„id-R.id.imgå’ŒTextViewçš„id-R.id.två³å¯ã€‚</li>
</ul>

<h3 id="3baseadapteré€‚é…å™¨">3.BaseAdapteré€‚é…å™¨</h3>

<p>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼ŒArrayAdapterä¸€èˆ¬é€‚ç”¨äºæ•°æ®æºæ•°æ®ç§ç±»æ¯”è¾ƒå•ä¸€çš„æƒ…å½¢ï¼Œè‹¥æ•°æ®ç±»å‹æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦ä¸ªæ€§åŒ–å®šåˆ¶å¸ƒå±€ï¼Œåˆ™å¯ä»¥é‡‡ç”¨BaseAdapteré€‚é…å™¨è¿›è¡Œæ•°æ®é€‚é…ã€‚è‹¥è¦é—®BaseAdapterå’ŒSimpleAdapteræœ‰ä»€ä¹ˆä¸åŒï¼Œé€šè¿‡APIæ–‡æ¡£å¯ä»¥è·æ‚‰ï¼ŒSimpleAdapteræ˜¯BaseAdapterçš„å­ç±»ï¼ŒBaseAdapterè¾ƒSimpleAdapteræ¥è®²æ›´ä¸ºçµæ´»ï¼Œåœ¨å¼€å‘ä¸­ä¹Ÿæ›´ä¸ºå¸¸ç”¨ã€‚ ä¸‹é¢é€šè¿‡ä¸€ä¸ªå®ä¾‹ï¼Œæ¥è¯´æ˜åœ¨å¼€å‘ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨BaseAdapteré€‚é…æ•°æ®æºçš„ã€‚</p>

<p>é¦–å…ˆå¯¹å¤æ‚çš„æ•°æ®æºè¿›è¡Œæ•°æ®å°è£…ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public class Animal {
    public Animal(String animal, int imgId) {
        this.animal = animal;
        this.imgId = imgId;
    }
    private String animal;
    private int imgId;
    public String getAnimal() {
        return animal;
    }
    public void setAnimal(String animal) {
        this.animal = animal;
    }
    public int getImgId() {
        return imgId;
    }
    public void setImgId(int imgId) {
        this.imgId = imgId;
    }
}
</code></pre></div></div>

<p>ç„¶åå®šä¹‰å•ä¸ªå­é¡¹çš„å¸ƒå±€ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:orientation="horizontal"
    android:layout_height="match_parent"&gt;
    &lt;ImageView
        android:id="@+id/img"
        android:src="@mipmap/ic_launcher"
        android:layout_width="50dp"
        android:layout_height="50dp" /&gt;
    &lt;TextView
        android:id="@+id/tv"
        android:text="hello"
        android:gravity="center"
        android:layout_marginLeft="50dp"
        android:textSize="28sp"
        android:layout_width="wrap_content"
        android:layout_height="50dp" /&gt;
&lt;/LinearLayout&gt;
</code></pre></div></div>

<p>ä¸»å¸ƒå±€æ–‡ä»¶å’ŒArrayAdapterçš„ä¸»å¸ƒå±€æ–‡ä»¶ä¸€æ ·ï¼Œå°±ä¸å†è´´å‡ºä»£ç ï¼Œä¸‹é¢çœ‹ä¸€ä¸‹è‡ªå®šä¹‰çš„é€‚é…å™¨ç±»ï¼Œç»§æ‰¿è‡ªBaseAdapterï¼Œå¦‚ä¸‹ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public class AnimalAdapter extends BaseAdapter {
    private Context context;
    private List&lt;Animal&gt; datas;
    //æ„é€ å‡½æ•°éœ€è¦ä¼ å…¥ä¸¤ä¸ªå¿…è¦çš„å‚æ•°ï¼šä¸Šä¸‹æ–‡å¯¹è±¡å’Œæ•°æ®æº
    public AnimalAdapter(Context context,List&lt;Animal&gt; datas) {
        this.context=context;
        this.datas=datas;
    }
    //è¿”å›å­é¡¹çš„ä¸ªæ•°
    @Override
    public int getCount() {
        return datas.size();
    }
    //è¿”å›å­é¡¹å¯¹åº”çš„å¯¹è±¡
    @Override
    public Object getItem(int position) {
        return datas.get(position);
    }
    //è¿”å›å­é¡¹çš„ä¸‹æ ‡
    @Override
    public long getItemId(int position) {
        return position;
    }
    //è¿”å›å­é¡¹è§†å›¾
    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        Animal animal= (Animal) getItem(position);
        View view;
        ViewHolder viewHolder;
        if(convertView==null){
            view = LayoutInflater.from(context).inflate(R.layout.animal_layout,null);
            viewHolder=new ViewHolder();
            viewHolder.animalImage=(ImageView)view.findViewById(R.id.img);
            viewHolder.animalName=(TextView)view.findViewById(R.id.tv);
            view.setTag(viewHolder);
        }else{
            view=convertView;
            viewHolder= (ViewHolder) view.getTag();
        }
        viewHolder.animalName.setText(animal.getAnimal());
        viewHolder.animalImage.setImageResource(animal.getImgId());
        return view;
    }
    //åˆ›å»ºViewHolderç±»
    class ViewHolder{
        ImageView animalImage;
        TextView animalName;
    }
}
</code></pre></div></div>

<p><strong>ç»§æ‰¿è‡ªBaseAdapterç±»ï¼Œå¿…é¡»éœ€è¦è¦†å†™å››ä¸ªæ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•çš„å…·ä½“å«ä¹‰å·²ç»åœ¨ä»£ç ä¸­åšäº†æ³¨é‡Šã€‚</strong>æ­¤å¤–ï¼Œä¸ºäº†æé«˜åŠ è½½æ•ˆç‡ï¼Œè¿™é‡Œåˆ›å»ºäº†å†…éƒ¨ç±»ViewHolderï¼Œå¯ä»¥é¿å…æ¯æ¬¡è°ƒç”¨getViewæ–¹æ³•æ—¶éƒ½è¦é€šè¿‡findViewByIdæ–¹æ³•å»å®ä¾‹åŒ–æ§ä»¶ï¼Œå¤§å¤§æé«˜è¿è¡Œæ•ˆç‡ï¼Œæ¨èä»¥åå¼€å‘ä¸­è¿™ä¹ˆä½¿ç”¨ã€‚ MainActivity.javaä»£ç å¦‚ä¸‹ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public class MainActivity extends Activity {
    private ListView listView;
    private List&lt;Animal&gt; datas = new ArrayList&lt;Animal&gt;();
    private AnimalAdapter animalAdapter;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        requestWindowFeature(Window.FEATURE_NO_TITLE);//éšè—æ ‡é¢˜æ 
        setContentView(R.layout.activity_main);
        initDatas();
        listView = (ListView) findViewById(R.id.lv);
        animalAdapter = new AnimalAdapter(this, datas);
        listView.setAdapter(animalAdapter);
        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {
                Toast.makeText(MainActivity.this, "æ‚¨å•å‡»äº†" + datas.get(position).getAnimal(), Toast.LENGTH_SHORT).show();
            }
        });
    }
    private void initDatas() {
        Animal animal0 = new Animal("å…”å…«å“¥", R.drawable.rabbit);
        Animal animal1 = new Animal("çœ¼é•œè›‡", R.drawable.snack);
        Animal animal2 = new Animal("å°é‡‘é±¼", R.drawable.fish);
        Animal animal3 = new Animal("åƒé‡Œé©¬", R.drawable.horse);
        Animal animal4 = new Animal("ç±³è€é¼ ", R.drawable.mouse);
        Animal animal5 = new Animal("å¤§å›½å®", R.drawable.panda);
        datas.add(animal0);
        datas.add(animal1);
        datas.add(animal2);
        datas.add(animal3);
        datas.add(animal4);
        datas.add(animal5);
    }
}
</code></pre></div></div>

<p>è¿™é‡Œè°ƒç”¨äº†setOnItemClickListeneræ–¹æ³•å®ç°äº†å•é¡¹ç›‘å¬ï¼Œè¦†å†™äº†onItemClickæ–¹æ³•ï¼Œç”±å‚æ•°positoné€šè¿‡Listçš„getPositionæ–¹æ³•è·å–å¯¹è±¡ï¼Œå†é€šè¿‡å¯¹è±¡å°è£…çš„getAnimalæ–¹æ³•å¯ä»¥è·å¾—å¯¹åº”çš„åŠ¨ç‰©åï¼Œç”±Toasté€šçŸ¥è¾“å‡ºã€‚</p>

<p><a href="http://wiki.jikexueyuan.com/project/twenty-four-Scriptures/list-view.html">æå®¢å­¦é™¢</a></p>

:ET